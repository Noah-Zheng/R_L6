---
title: "Untitled"
output: html_document
---

```{r}
dd <- read.csv("diamondsbig.csv")
library(ggplot2)
ggplot(dd, aes(log(price))) +
  geom_histogram(aes(color = cut)) +
  facet_wrap(~color) +
  scale_fill_brewer(type = "qual")
```

```{r}
dd2 <- diamonds
ggplot(dd2, aes(log(price))) +
  geom_histogram(aes(color = cut)) +
  facet_wrap(~color) +
  scale_fill_brewer(type = "qual", palette = 3)
```

```{r}
#scatterplot of diamond price vs table, color by cut
ggplot(dd2, aes(table, price)) +
  geom_point(alpha = 1/5, 
             position = position_jitter(),
             aes(color = cut)) +
  scale_x_continuous(breaks = seq(43,95,2)) +
  scale_color_brewer(type = 'qual', palette = 2)
  
```


```{r}
#scatterplot price vs volume, color by clarity, y-axis log10, omit top 1%
dd2 <- transform(dd2, volume = x*y*z)


ggplot(dd2, aes(volume, price)) +
  geom_point(aes(color = clarity),
             position = position_jitter()) +
  scale_y_log10() +
  scale_color_brewer(type = 'div', palette = 2) +
  xlim(0, quantile(dd2$volume, .99))
```

